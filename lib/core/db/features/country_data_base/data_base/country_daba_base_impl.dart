import 'package:whatsappsendnumber/core/db/data_base/data_base.dart';import 'package:whatsappsendnumber/core/db/data_base/tables.dart';import 'package:whatsappsendnumber/features/start_chat/framework/data/config/response/country_dto.dart';import 'package:whatsappsendnumber/resources/extensions/extension_string.dart';class CountryDataBaseImpl {  final DataBaseLocal _dataBaseLocal;  CountryDataBaseImpl(this._dataBaseLocal);  Future<CountryDto> getCountryCurrent() async {    final db = await _dataBaseLocal.createDatabase();    final maps = await db.query(countryTable, where: "$countrySelected = ?", whereArgs: [true]);    return CountryDto(        int.parse(maps[0][countryIdentifier].toString()),        maps[0][countryName].toString(),        maps[0][countryIso2].toString(),        maps[0][countryIso3].toString(),        maps[0][countryLada].toString(),        maps[0][countrySelected].toString().toBool());  }  Future<void> updateCountryCurrent(int identifier) async {    final db = await _dataBaseLocal.createDatabase();    await db.update(countryTable, {countrySelected: false}, where: "$countrySelected = ?", whereArgs: [true]);    await db.update(countryTable, {countrySelected: true}, where: "$countryIdentifier = ?", whereArgs: [identifier]);  }  Future<List<CountryDto>> getAllCountries() async {    final db = await _dataBaseLocal.createDatabase();    final List<Map<String, dynamic>> maps = await db.query(countryTable, orderBy: "$countryIdentifier ASC");    final phoneNumbers = List.generate(maps.length, (counter) {      return CountryDto(          int.parse(maps[counter][countryIdentifier].toString()),          maps[counter][countryName].toString(),          maps[counter][countryIso2].toString(),          maps[counter][countryIso3].toString(),          maps[counter][countryLada].toString(),          maps[counter][countrySelected].toString().toBool());    });    return phoneNumbers;  }}