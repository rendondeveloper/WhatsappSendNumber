import 'package:flutter_riverpod/flutter_riverpod.dart';import 'package:whatsappsendnumber/core/analitycs/analytics_constants.dart';import 'package:whatsappsendnumber/core/analitycs/analytics_sender_events.dart';import 'package:whatsappsendnumber/core/db/features/number_phone_data_base/framework/data/config/model/number_phone_local.dart';import 'package:whatsappsendnumber/core/db/features/number_phone_data_base/usescase/save_phone_number_uses_case.dart';import 'package:whatsappsendnumber/features/start_chat/framework/presentation/page/ui_models/start_chat_state.dart';import 'package:whatsappsendnumber/features/start_chat/framework/presentation/provider/mapper/map_country_model_to_country_state.dart';import 'package:whatsappsendnumber/features/start_chat/use_cases/get_countries_use_cases.dart';import 'package:whatsappsendnumber/resources/extensions/extension_string.dart';class SendMessageProvider extends StateNotifier<StartChatState> {  final AnalyticsSenderEvents _analyticsSenderEvents;  final SavePhoneNumberUsesCases _saveNumberPhoneUesCase;  final GetCountryUseCases _getCountriesUseCases;  final MapCountryModelCountryState _mapCountryModelCountryState;  SendMessageProvider(this._saveNumberPhoneUesCase, this._analyticsSenderEvents, this._getCountriesUseCases, this._mapCountryModelCountryState)      : super(const StartChatState()) {    _sendScreen();    _getCountry();  }  Future<void> saveNumberPhone(String phoneNumber) async {    _saveNumberPhoneUesCase.invoke(PhoneNumberLocal(identifier: 0, number: phoneNumber, date: DateTime.now().toConvertDMMYYYY()));  }  void onEvent(String event) {    _analyticsSenderEvents.onEvent(AnalyticsConstants.pageTabHistoryEvent, parameters: {AnalyticsConstants.pageTabHistoryEventItem: event});  }  void _sendScreen() {    _analyticsSenderEvents.sendScreen(AnalyticsConstants.pageTabSendMessage);  }  void _getCountry() async {    final country = await _getCountriesUseCases.invoke();    state = state.copyWith(country: _mapCountryModelCountryState.map(country));  }}